@model WebStore.Models.LeftMenu
<div class="mg-sidebar-toggle position-left">
    <i class="fas fa-filter"></i>
</div>
<aside class="mg-sidebar mg-sidebar-offcanvas position-left">
    <span class="mg-sidebar-close">
        <i class="fas fa-times"></i>
    </span>
    <section class="mg-widget mg-widget-categories">
        <h3 class="mg-widget-title">@WebStore.Resources.Filter.Shop</h3>
        <ul>
            @foreach (var i in Model.Family)
            {
                <li class="has-children">
                    <a href="#" class=@(ViewBag.active == i.strName ? "active":"")>@WebStore.Resources.Categories.ResourceManager.GetString(i.strName)</a>
                    @foreach(var j in Model.FamilyTotal)
                    {
                        if(i.strName == j.FamilyName)
                        {
                            <span>(@j.TotalProducts)</span>
                        }
                    }
                    <ul class="has-children-list">
                        @foreach (var k in Model.Category)
                        {
                            if (k.refFamily == i.idFamily)
                            {
                                <li>
                                    <a href="#" class=@(ViewBag.active == k.strNombre ? "active":"")>@WebStore.Resources.Categories.ResourceManager.GetString(k.strNombre)</a>
                                    @foreach (var l in Model.CategoryTotal)
                                    {
                                        if (k.strNombre == l.CategoryName)
                                        {
                                            <span>(@l.TotalProducts)</span>
                                        }
                                    }
                                </li>
                            }
                        }
                    </ul>
                </li>
            }
        </ul>
    </section>

    <section class="mg-widget mg-widget-categories">
        <h3 class="mg-widget-title">@WebStore.Resources.Filter.Price</h3>
        <form class="mg-price-range-slider" method="post" data-start-min="@ViewBag.minPrice" data-start-max="@ViewBag.maxPrice" data-min="0" data-max="1000" data-step="1">
            <div class="ui-range-slider mt-3"></div>
            <footer class="ui-range-slider-footer">
                <div class="column">
                    <button class="btn btn-outline-orangered btn-sm" type="submit">@WebStore.Resources.Buttons.Filter</button>
                </div>
                <div class="column">
                    <div class="ui-range-values">
                        <div class="ui-range-value-min">
                            $<span>@ViewBag.minPrice</span>&nbsp;-&nbsp;
                            <input type="hidden" value="@ViewBag.minPrice">
                        </div>
                        <div class="ui-range-value-max">
                            $<span>@ViewBag.maxPrice</span>
                            <input type="hidden" value="@ViewBag.maxPrice">
                        </div>
                    </div>
                </div>
            </footer>
        </form>
    </section>

    <section class="mg-widget">
        <h3 class="mg-widget-title">@WebStore.Resources.Filter.PriceF</h3>
        @foreach (var p in Model.BetweenPrices)
        {
            <div class="custom-control custom-checkbox">
                <input class="chk-col-deep-orange filled-in" type="checkbox" id="lower">
                <label for="lower">Hasta $10.000&nbsp;<span class="text-muted">(@p.lower)</span></label>
            </div>
            <div class="custom-control custom-checkbox">
                <input class="chk-col-deep-orange filled-in" type="checkbox" id="low">
                <label for="low">$10.000 - $50.000&nbsp;<span class="text-muted">(@p.low)</span></label>
            </div>
            <div class="custom-control custom-checkbox">
                <input class="chk-col-deep-orange filled-in" type="checkbox" id="middle">
                <label for="middle">$50.000 - $100.000&nbsp;<span class="text-muted">(@p.middle)</span></label>
            </div>
            <div class="custom-control custom-checkbox">
                <input class="chk-col-deep-orange filled-in" type="checkbox" id="high">
                <label for="high">$100.000 - $200.000&nbsp;<span class="text-muted">(@p.high)</span></label>
            </div>
            <div class="custom-control custom-checkbox">
                <input class="chk-col-deep-orange filled-in" type="checkbox" id="higher">
                <label for="higher">$200.000 - $300.000&nbsp;<span class="text-muted">(@p.higher)</span></label>
            </div>
            <div class="custom-control custom-checkbox">
                <input class="chk-col-deep-orange filled-in" type="checkbox" id="highest">
                <label for="highest">$300.000 - $500.000&nbsp;<span class="text-muted">(@p.highest)</span></label>
            </div>
            <div class="custom-control custom-checkbox">
                <input class="chk-col-deep-orange filled-in" type="checkbox" id="top">
                <label for="top">Desde $500.000 &nbsp;<span class="text-muted">(@p.top)</span></label>
            </div>
        }
    </section>

    <section class="mg-widget">
        <h3 class="mg-widget-title">@WebStore.Resources.Filter.BrandF</h3>
        @if (Model.BrandTotal.Any())
        {
            foreach (var b in Model.BrandTotal)
            {
                <div class="custom-control custom-checkbox">
                    <input class="chk-col-deep-orange filled-in" type="checkbox" id="@b.BrandName">
                    <label for="@b.BrandName">@b.BrandName&nbsp;<span class="text-muted">(@b.TotalProducts)</span></label>
                </div>
            }
        }
        else { <p>No hay </p>}
    </section>
</aside>
@section Scripts{
<script type="text/javascript">
    $(function () {
        $.AdminJs.slider.activate();
    })
</script>
}